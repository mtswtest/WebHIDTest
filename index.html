<html>
<head>
    <title>WebHID Test</title>
	<script src="mmxusbservice.js"></script>
	
</head>
<body>
    <button id="ShowHIDDevices" onclick="testDevice()">Show HID Devices</button>
	
	<script type="text/javascript">
		function testDevice(event) {
			commandString = '0011AA0081040100DF018407DF018103414243000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000';
			commandReport = hexStringToByte(commandString);

			console.log('start');
			service = new mmxusbservice.mmxusbservice();
					
			console.log('open');
			service.openDevice();
			
			console.log('send ' + commandString);
			service.sendData(commandReport);
			
			console.log('done');
		}
		
		function hexStringToByte(str) {
		  if (!str) {
			return new Uint8Array();
		  }
		  
		  var a = [];
		  for (var i = 0, len = str.length; i < len; i+=2) {
			a.push(parseInt(str.substr(i,2),16));
		  }
		  
		  return new Uint8Array(a);
		}
		
	</script>
</body>
</html>
